graph TD
    subgraph "Data Ingestion Methods"
        direction LR
        A1[Franserve Website] --> B1(Automatic Scraper);
        B1 --> C1{LLM for Parsing};
        C1 --> D1[Structured Franchise Data];

        A2[User] --> B2(Bokeh Dashboard);
        B2 -- CRUD Operations --> D2[Structured Franchise Data];
        
        A3[User] --> B3(File Upload: CSV/XLSX/Sheet);
        B3 --> C3[Python/n8n Processing Script];
        C3 --> D3[Structured Franchise Data];

        A4[User] --> B4(Multimedia Input: Images/Videos);
        B4 --> C4{Complex ETL w/ Vision & Speech-to-Text LLM};
        C4 --> D4[Structured Franchise Data];
    end

    subgraph "Central Hub"
        S[("Supabase Database")];
        S_F["Franchises Table"];
        S_C["Contacts Table"];
        ;
        S
        S_F & S_C ;
    end
    
    D1 --> S;
    D2 --> S;
    D3 --> S;
    D4 --> S;
    
    S --> B2;
    S
	;
    
    style S fill:#27a376,stroke:#333,stroke-width:2px,color:#fff
    style A1 fill:#f9f,stroke:#333,stroke-width:2px
    style A2 fill:#f9f,stroke:#333,stroke-width:2px
    style A3 fill:#f9f,stroke:#333,stroke-width:2px
    style A4 fill:#f9f,stroke:#333,stroke-width:2px
	subgraph s1["Data Completion Pipeline"]
		n4@{ label: "Rectangle" }
		n3@{ shape: "diam", label: "Diamond" }
		n2@{ shape: "circle", label: "Circle" }
		n1["LLM"]
	end
	n1
	S
	style n1 color:#000000,fill:#FF3131,stroke-width:2px
	n1
	S_C
	n1 	
	S_F
	
	n1
	S_C
	n1
	S_F
	S --- S_F
	S --- S_C
	n1
	S
	n1 --- n2@{ shape: "circle", label: "Web Search" }
	style n2 color:#000000,fill:#38B6FF
	n2
	n3
	n3@{ shape: "diam", label: "Formatting Model Output" }
	S
	n3 --- n1
	S_F --- n3
	n3@{ shape: "diam", label: "Create Information Completion Query" }
	n2 --- n4
	n4["Structured Franchise Data"] --- S
	style subGraph1 color:#000000,fill:#7ED957
	style s1 color:#000000,fill:#FFBD59